# Basic system configuration
CONFIG_SETTINGS=y
CONFIG_SETTINGS_RUNTIME=y
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_NVS=y
CONFIG_FCB=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_SETTINGS_NVS=y
CONFIG_SETTINGS_NVS_SECTOR_SIZE_MULT=1

# Hardware interfaces
CONFIG_GPIO=y
CONFIG_PWM=y
CONFIG_I2C=y
CONFIG_I2C_INIT_PRIORITY=70

# RTC support
CONFIG_RTC=y
CONFIG_COUNTER=y
CONFIG_COUNTER_INIT_PRIORITY=80
CONFIG_RTC_DS3231=y
CONFIG_COUNTER_RTC_STM32=n
CONFIG_RTC_LOG_LEVEL_DBG=y

# Standard C library support
CONFIG_NEWLIB_LIBC=y
CONFIG_POSIX_API=y
CONFIG_POSIX_TIMERS=y

# Thread configuration 
CONFIG_THREAD_NAME=y
CONFIG_THREAD_MONITOR=y
CONFIG_HEAP_MEM_POOL_SIZE=16384

# Console and logging
CONFIG_PRINTK=y
CONFIG_CONSOLE=y
CONFIG_SERIAL=y
CONFIG_UART_CONSOLE=y
CONFIG_LOG=y
CONFIG_LOG_MODE_IMMEDIATE=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_MODE_MINIMAL=n

# Enable system reboot functionality
CONFIG_REBOOT=y

# USB configuration
CONFIG_USB_DEVICE_VID=0x1209
CONFIG_USB_DEVICE_PID=0xAC02
CONFIG_USB_DEVICE_MANUFACTURER="Irrigation Systems"
CONFIG_USB_DEVICE_PRODUCT="AutoWatering Controller"
CONFIG_USB_DEVICE_SN="00000001"

# Basic Bluetooth configuration
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DEVICE_NAME="AutoWatering"
CONFIG_BT_DEVICE_APPEARANCE=833
CONFIG_BT_MAX_CONN=1
CONFIG_BT_SMP=y

# Bluetooth Device Information Service
CONFIG_BT_DIS=y
CONFIG_BT_DIS_PNP=n
CONFIG_BT_DIS_SERIAL_NUMBER=y
CONFIG_BT_DIS_SERIAL_NUMBER_STR="000001"
CONFIG_BT_DIS_FW_REV=y
CONFIG_BT_DIS_FW_REV_STR="1.0"
CONFIG_BT_DIS_HW_REV=y
CONFIG_BT_DIS_HW_REV_STR="v1"

# Power settings for Bluetooth
CONFIG_BT_CTLR_TX_PWR_PLUS_4=y

# Use the proper controller configuration (not the deprecated one)
CONFIG_BT_LL_SW_SPLIT=y

# Explicitly disable the deprecated controller
CONFIG_BT_CTLR=n

# Additional Bluetooth GATT capabilities
CONFIG_BT_GATT_DYNAMIC_DB=y
CONFIG_BT_SETTINGS=y
CONFIG_BT_GATT_CLIENT=y

# Increase Bluetooth buffer size
CONFIG_BT_L2CAP_TX_MTU=100
CONFIG_BT_BUF_ACL_RX_SIZE=102
CONFIG_BT_BUF_ACL_TX_SIZE=102
